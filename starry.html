

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API &mdash; starry 0.0.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="starry documentation" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> starry
          

          
          </a>

          
            
            
              <div class="version">
                0.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-map-class">The Map class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-orbital-classes">The orbital classes</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">starry</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/starry.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-starry"></span><div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#the-map-class" id="id2">The Map class</a></li>
<li><a class="reference internal" href="#the-orbital-classes" id="id3">The orbital classes</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This page documents the <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a> API, which is coded
in C++ and wrapped in Python using <code class="xref py py-mod docutils literal notranslate"><span class="pre">pybind11</span></code>. The API consists
of a <a class="reference internal" href="#starry.Map" title="starry.Map"><code class="xref py py-class docutils literal notranslate"><span class="pre">Map</span></code></a> class, which houses all of the surface map photometry
stuff, and the <a class="reference internal" href="#starry.Star" title="starry.Star"><code class="xref py py-class docutils literal notranslate"><span class="pre">Star</span></code></a>, <a class="reference internal" href="#starry.Planet" title="starry.Planet"><code class="xref py py-class docutils literal notranslate"><span class="pre">Planet</span></code></a>, and <a class="reference internal" href="#starry.System" title="starry.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>
classes, which facilitate the generation of light curves for actual
stellar and planetary systems.</p>
<p>There are two broad ways in which users can access the core <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a>
functionality:</p>
<blockquote>
<div><ul class="simple">
<li>Users can instantiate a <a class="reference internal" href="#starry.Map" title="starry.Map"><code class="xref py py-class docutils literal notranslate"><span class="pre">Map</span></code></a> class to compute phase curves
and occultation light curves by directly specifying the rotational state
of the object and (optionally) the position and size of an occultor. This
may be particularly useful for users who wish to integrate <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a>
with their own dynamical code or for users wishing to compute simple light
curves without any orbital solutions.</li>
<li>Users can instantiate a <a class="reference internal" href="#starry.Star" title="starry.Star"><code class="xref py py-class docutils literal notranslate"><span class="pre">Star</span></code></a> and one or more <a class="reference internal" href="#starry.Planet" title="starry.Planet"><code class="xref py py-class docutils literal notranslate"><span class="pre">Planet</span></code></a>
objects and feed them into a <a class="reference internal" href="#starry.System" title="starry.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> instance for integration
with the Keplerian solver. All <a class="reference internal" href="#starry.Star" title="starry.Star"><code class="xref py py-class docutils literal notranslate"><span class="pre">Star</span></code></a> and <a class="reference internal" href="#starry.Planet" title="starry.Planet"><code class="xref py py-class docutils literal notranslate"><span class="pre">Planet</span></code></a>
instances have a <code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code> attribute that allows users to customize
the surface map prior to computing the system light curve.</li>
</ul>
</div></blockquote>
<p>At present, <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a> uses a simple Keplerian solver to compute orbits, so
the second approach listed above is limited to systems with low mass planets that
do not exhibit transit timing variations. The next version will include integration
with an N-body solver, so stay tuned!</p>
</div>
<div class="section" id="the-map-class">
<h2><a class="toc-backref" href="#id2">The Map class</a><a class="headerlink" href="#the-map-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="starry.Map">
<em class="property">class </em><code class="descclassname">starry.</code><code class="descname">Map</code><span class="sig-paren">(</span><em>lmax=2</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a> surface map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Largest spherical harmonic degree in the surface map. Default 2.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="starry.Map.use_mp">
<code class="descname">use_mp</code><a class="headerlink" href="#starry.Map.use_mp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> to turn on multi-precision mode. By default, this will perform all occultation calculations using 128-bit (quadruple) floating point precision, corresponding to 32 significant digits. Users can increase this to any number of digits (RAM permitting) by setting the <code class="xref py py-obj docutils literal notranslate"><span class="pre">STARRY_MP_DIGITS=XX</span></code> flag at compile time. Note, importantly, that run times are <strong>much</strong> slower when multi-precision is enabled. Default <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.taylor">
<code class="descname">taylor</code><a class="headerlink" href="#starry.Map.taylor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> to disable Taylor expansions of the primitive integrals when computing occultation light curves. This is in general not something you should do! Default <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="starry.Map.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>u=(0</em>, <em>1</em>, <em>0)</em>, <em>theta=0</em>, <em>x=0</em>, <em>y=0</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the specific intensity at a point (<cite>x</cite>, <cite>y</cite>) on the map.</p>
<p>Users may optionally provide a rotation state. Note that this does
not rotate the base map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>u</strong> (<em>ndarray</em>) – Unit vector specifying the body’s axis of rotation. Default <span class="math notranslate nohighlight">\(\hat{y} = (0, 1, 0)\)</span>.</li>
<li><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – Angle of rotation in radians. Default 0.</li>
<li><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – Position scalar, vector, or matrix.</li>
<li><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – Position scalar, vector, or matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The specific intensity at (<cite>x</cite>, <cite>y</cite>).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>u=(0</em>, <em>1</em>, <em>0)</em>, <em>theta=0</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the base map an angle <code class="xref py py-obj docutils literal notranslate"><span class="pre">theta</span></code> about <code class="xref py py-obj docutils literal notranslate"><span class="pre">u</span></code>.</p>
<p>This performs a permanent rotation to the base map. Subsequent
rotations and calculations will be performed relative to this
rotational state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>u</strong> (<em>ndarray</em>) – Unit vector specifying the body’s axis of rotation. Default <span class="math notranslate nohighlight">\(\hat{y} = (0, 1, 0)\)</span>.</li>
<li><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – Angle of rotation in radians. Default 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.flux">
<code class="descname">flux</code><span class="sig-paren">(</span><em>u=(0</em>, <em>1</em>, <em>0)</em>, <em>theta=0</em>, <em>xo=0</em>, <em>yo=0</em>, <em>ro=0</em>, <em>numerical=False</em>, <em>tol=1.e-4</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total flux received by the observer.</p>
<p>Computes the total flux received by the observer from the
map during or outside of an occultation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>u</strong> (<em>ndarray</em>) – Unit vector specifying the body’s axis of rotation. Default <span class="math notranslate nohighlight">\(\hat{y} = (0, 1, 0)\)</span>.</li>
<li><strong>theta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – Angle of rotation. Default 0.</li>
<li><strong>xo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – The <cite>x</cite> position of the occultor (if any). Default 0.</li>
<li><strong>yo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>ndarray</em>) – The <cite>y</cite> position of the occultor (if any). Default 0.</li>
<li><strong>ro</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The radius of the occultor in units of this body’s radius. Default 0 (no occultation).</li>
<li><strong>numerical</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Compute the flux numerically using an adaptive mesh? Default <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.</li>
<li><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Tolerance of the numerical solver. Default <cite>1.e-4</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The flux received by the observer (a scalar or a vector).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.get_coeff">
<code class="descname">get_coeff</code><span class="sig-paren">(</span><em>l</em>, <em>m</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.get_coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">m</span></code>) coefficient of the map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users can also retrieve a coefficient by accessing the [<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">m</span></code>] index of the map as if it were a 2D array.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The spherical harmonic degree, ranging from 0 to <a class="reference internal" href="#starry.Map.lmax" title="starry.Map.lmax"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lmax</span></code></a>.</li>
<li><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The spherical harmonic order, ranging from -<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code> to <code class="xref py py-attr docutils literal notranslate"><span class="pre">l</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.set_coeff">
<code class="descname">set_coeff</code><span class="sig-paren">(</span><em>l</em>, <em>m</em>, <em>coeff</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.set_coeff" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the (<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">m</span></code>) coefficient of the map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users can also set a coefficient by setting the [<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">m</span></code>] index of the map as if it were a 2D array.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The spherical harmonic degree, ranging from 0 to <a class="reference internal" href="#starry.Map.lmax" title="starry.Map.lmax"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lmax</span></code></a>.</li>
<li><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The spherical harmonic order, ranging from -<code class="xref py py-obj docutils literal notranslate"><span class="pre">l</span></code> to <code class="xref py py-attr docutils literal notranslate"><span class="pre">l</span></code>.</li>
<li><strong>coeff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The value of the coefficient.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.get_ld">
<code class="descname">get_ld</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.get_ld" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the limb darkening coefficient of order <code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users can also retrieve a limb darkening coefficient by accessing the [<code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code>] index of the map as if it were an array.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The limb darkening order (1 or 2).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.set_ld">
<code class="descname">set_ld</code><span class="sig-paren">(</span><em>n</em>, <em>u_n</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.set_ld" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the limb darkening coefficient of order <code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Users can also set a coefficient by setting the [<code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code>] index of the map as if it were an array.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The limb darkening order (1 or 2).</li>
<li><strong>u_n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The value of the coefficient.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Set all of the map coefficients to zero.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.lmax">
<code class="descname">lmax</code><a class="headerlink" href="#starry.Map.lmax" title="Permalink to this definition">¶</a></dt>
<dd><p>The highest spherical harmonic order of the map. <em>Read-only.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.y">
<code class="descname">y</code><a class="headerlink" href="#starry.Map.y" title="Permalink to this definition">¶</a></dt>
<dd><p>The spherical harmonic map vector. <em>Read-only.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.p">
<code class="descname">p</code><a class="headerlink" href="#starry.Map.p" title="Permalink to this definition">¶</a></dt>
<dd><p>The polynomial map vector. <em>Read-only.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.g">
<code class="descname">g</code><a class="headerlink" href="#starry.Map.g" title="Permalink to this definition">¶</a></dt>
<dd><p>The Green’s polynomial map vector. <em>Read-only.</em></p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Map.ld">
<code class="descname">ld</code><a class="headerlink" href="#starry.Map.ld" title="Permalink to this definition">¶</a></dt>
<dd><p>The limb darkening coefficients. <em>Read-only.</em></p>
</dd></dl>

<dl class="method">
<dt id="starry.Map.minimum">
<code class="descname">minimum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.minimum" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the global minimum of the map.</p>
<p>This routine wraps <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code> to find
the global minimum of the surface map. This is useful for ensuring
that the surface map is nonnegative everywhere.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because this routine wraps a Python wrapper of a C function to perform a non-linear optimization in three dimensions, it is <strong>slow</strong> and should probably not be used repeatedly when fitting a map to data!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="starry.Map.nonnegative">
<code class="descname">nonnegative</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.nonnegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset the map so that it is non-negative everywhere.</p>
<p>This routine wraps <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code> to find
the global minimum of the surface map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because this routine wraps a Python wrapper of a C function to perform a non-linear optimization in three dimensions, it is <strong>slow</strong> and should probably not be used repeatedly when fitting a map to data!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="starry.Map.random">
<code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random map with a power spectrum given by the power law index <cite>beta</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Power law index. The sum of the squares of all the coefficients at degree <cite>l</cite> is proportional to <cite>l ** beta</cite>. Default 0 (white spectrum).</li>
<li><strong>nonnegative</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Force map to be non-negative everywhere? Default <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.load_image">
<code class="descname">load_image</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.load_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an image from file.</p>
<p>This routine loads an image file, computes its spherical harmonic
expansion up to degree <a class="reference internal" href="#starry.Map.lmax" title="starry.Map.lmax"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lmax</span></code></a>, and sets the map vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The full path to the image file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.load_healpix">
<code class="descname">load_healpix</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.load_healpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a healpix image array.</p>
<p>This routine loads a <code class="xref py py-obj docutils literal notranslate"><span class="pre">healpix</span></code> array, computes its
spherical harmonic
expansion up to degree <a class="reference internal" href="#starry.Map.lmax" title="starry.Map.lmax"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lmax</span></code></a>, and sets the map vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> (<em>ndarray</em>) – The ring-ordered <code class="xref py py-obj docutils literal notranslate"><span class="pre">healpix</span></code> array.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>cmap='plasma'</em>, <em>res=300</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience routine to quickly display the body’s surface map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code> colormap name. Default <cite>plasma</cite>.</li>
<li><strong>res</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The resolution of the map in pixels on a side. Default 300.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="starry.Map.animate">
<code class="descname">animate</code><span class="sig-paren">(</span><em>u=(0</em>, <em>1</em>, <em>0)</em>, <em>cmap='plasma'</em>, <em>res=150</em>, <em>frames=50</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Map.animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience routine to animate the body’s surface map as it rotates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>u</strong> (<em>ndarray</em>) – Unit vector specifying the axis of rotation. Default <span class="math notranslate nohighlight">\(\hat{y} = (0, 1, 0)\)</span>.</li>
<li><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The <code class="xref py py-mod docutils literal notranslate"><span class="pre">matplotlib</span></code> colormap name. Default <cite>plasma</cite>.</li>
<li><strong>res</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The resolution of the map in pixels on a side. Default 150.</li>
<li><strong>frames</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The number of frames in the animation. Default 50.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-orbital-classes">
<h2><a class="toc-backref" href="#id3">The orbital classes</a><a class="headerlink" href="#the-orbital-classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="starry.Star">
<em class="property">class </em><code class="descclassname">starry.</code><code class="descname">Star</code><a class="headerlink" href="#starry.Star" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a stellar <code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code> object.</p>
<p>The star’s radius and luminosity are fixed at unity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Largest spherical harmonic degree in body’s surface map. Default 2.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="starry.Star.map">
<code class="descname">map</code><a class="headerlink" href="#starry.Star.map" title="Permalink to this definition">¶</a></dt>
<dd><p>The body’s surface map.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Star.flux">
<code class="descname">flux</code><a class="headerlink" href="#starry.Star.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>The body’s computed light curve.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="starry.Planet">
<em class="property">class </em><code class="descclassname">starry.</code><code class="descname">Planet</code><span class="sig-paren">(</span><em>lmax=2</em>, <em>r=0.1</em>, <em>L=0</em>, <em>u=(0</em>, <em>1</em>, <em>0)</em>, <em>prot=0</em>, <em>theta0=0</em>, <em>a=50</em>, <em>porb=1</em>, <em>inc=90</em>, <em>ecc=0</em>, <em>w=90</em>, <em>Omega=0</em>, <em>lambda0=90</em>, <em>tref=0</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.Planet" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a planetary <code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code> object.</p>
<p>Instantiate a planet. At present, <a class="reference internal" href="#module-starry" title="starry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">starry</span></code></a> computes orbits with a simple
Keplerian solver, so the planet is assumed to be massless.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Largest spherical harmonic degree in body’s surface map. Default 2.</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Body radius in stellar radii. Default 0.1</li>
<li><strong>L</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Body luminosity in units of the stellar luminosity. Default 0.</li>
<li><strong>u</strong> (<em>ndarray</em>) – A unit vector specifying the body’s axis of rotation. Default <span class="math notranslate nohighlight">\(\hat{y} = (0, 1, 0)\)</span>.</li>
<li><strong>prot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Rotation period in days. Default no rotation.</li>
<li><strong>theta0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Rotation phase at time <a class="reference internal" href="#starry.Planet.tref" title="starry.Planet.tref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tref</span></code></a> in degrees. Default 0.</li>
<li><strong>a</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Semi-major axis in stellar radii. Default 50.</li>
<li><strong>porb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Orbital period in days. Default 1.</li>
<li><strong>inc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Orbital inclination in degrees. Default 90.</li>
<li><strong>ecc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Orbital eccentricity. Default 0.</li>
<li><strong>w</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Longitude of pericenter in degrees. Default 90.</li>
<li><strong>Omega</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Longitude of ascending node in degrees. Default 0.</li>
<li><strong>lambda0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Mean longitude at time <a class="reference internal" href="#starry.Planet.tref" title="starry.Planet.tref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tref</span></code></a> in degrees. Default 90.</li>
<li><strong>tref</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Reference time in days. Default 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="starry.Planet.map">
<code class="descname">map</code><a class="headerlink" href="#starry.Planet.map" title="Permalink to this definition">¶</a></dt>
<dd><p>The body’s surface map.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.flux">
<code class="descname">flux</code><a class="headerlink" href="#starry.Planet.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>The body’s computed light curve.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.x">
<code class="descname">x</code><a class="headerlink" href="#starry.Planet.x" title="Permalink to this definition">¶</a></dt>
<dd><p>The <cite>x</cite> position of the body in AU.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.y">
<code class="descname">y</code><a class="headerlink" href="#starry.Planet.y" title="Permalink to this definition">¶</a></dt>
<dd><p>The <cite>y</cite> position of the body in AU.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.z">
<code class="descname">z</code><a class="headerlink" href="#starry.Planet.z" title="Permalink to this definition">¶</a></dt>
<dd><p>The <cite>z</cite> position of the body in AU.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.r">
<code class="descname">r</code><a class="headerlink" href="#starry.Planet.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Body radius in units of stellar radius.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.L">
<code class="descname">L</code><a class="headerlink" href="#starry.Planet.L" title="Permalink to this definition">¶</a></dt>
<dd><p>Body luminosity in units of stellar luminosity.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.u">
<code class="descname">u</code><a class="headerlink" href="#starry.Planet.u" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit vector specifying the body’s axis of rotation.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.prot">
<code class="descname">prot</code><a class="headerlink" href="#starry.Planet.prot" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation period in days.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.theta0">
<code class="descname">theta0</code><a class="headerlink" href="#starry.Planet.theta0" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotation phase at time <a class="reference internal" href="#starry.Planet.tref" title="starry.Planet.tref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tref</span></code></a> in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.a">
<code class="descname">a</code><a class="headerlink" href="#starry.Planet.a" title="Permalink to this definition">¶</a></dt>
<dd><p>Body semi-major axis in units of stellar radius.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.porb">
<code class="descname">porb</code><a class="headerlink" href="#starry.Planet.porb" title="Permalink to this definition">¶</a></dt>
<dd><p>Orbital period in days.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.inc">
<code class="descname">inc</code><a class="headerlink" href="#starry.Planet.inc" title="Permalink to this definition">¶</a></dt>
<dd><p>Orbital inclination in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.ecc">
<code class="descname">ecc</code><a class="headerlink" href="#starry.Planet.ecc" title="Permalink to this definition">¶</a></dt>
<dd><p>Orbital eccentricity.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.w">
<code class="descname">w</code><a class="headerlink" href="#starry.Planet.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Longitude of pericenter in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.Omega">
<code class="descname">Omega</code><a class="headerlink" href="#starry.Planet.Omega" title="Permalink to this definition">¶</a></dt>
<dd><p>Longitude of ascending node in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.lambda0">
<code class="descname">lambda0</code><a class="headerlink" href="#starry.Planet.lambda0" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean longitude at time <a class="reference internal" href="#starry.Planet.tref" title="starry.Planet.tref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tref</span></code></a> in degrees.</p>
</dd></dl>

<dl class="attribute">
<dt id="starry.Planet.tref">
<code class="descname">tref</code><a class="headerlink" href="#starry.Planet.tref" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference time in days.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="starry.System">
<em class="property">class </em><code class="descclassname">starry.</code><code class="descname">System</code><span class="sig-paren">(</span><em>bodies</em>, <em>kepler_tol=1.0e-7</em>, <em>kepler_max_iter=100</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.System" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate an orbital system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bodies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – List of bodies in the system, with the primary (usually the star) listed first.</li>
<li><strong>kepler_tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Kepler solver tolerance.</li>
<li><strong>kepler_max_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of iterations in the Kepler solver.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="starry.System.compute">
<code class="descname">compute</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#starry.System.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the system light curve analytically.</p>
<p>Compute the full system light curve at the times
given by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code> array and store the result
in <a class="reference internal" href="#starry.System.flux" title="starry.System.flux"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flux</span></code></a>. The light curve for each body in the
system is stored in the body’s <a class="reference internal" href="#starry.System.flux" title="starry.System.flux"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flux</span></code></a> attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>ndarray</em>) – Time array, measured in days.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="starry.System.flux">
<code class="descname">flux</code><a class="headerlink" href="#starry.System.flux" title="Permalink to this definition">¶</a></dt>
<dd><p>The computed system light curve. Must run <a class="reference internal" href="#starry.System.compute" title="starry.System.compute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute()</span></code></a> first.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="starry documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Rodrigo Luger.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>